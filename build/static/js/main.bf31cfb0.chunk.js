(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(44)},25:function(e,t,n){},26:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(13),a=n.n(o),c=(n(25),n(2)),s=n(3),l=n(17),u=n(14),h=n(18),p=(n(26),n(15)),m=n(16),g=n.n(m),d=function(){function e(){Object(c.a)(this,e),this.userManager=void 0;this.userManager=new p.UserManager({authority:"https://demo.identityserver.io/",client_id:"spa",redirect_uri:"https://amine-security.netlify.com/signin-callback.html",silent_redirect_uri:"https://amine-security.netlify.com/silent-renew.html",post_logout_redirect_uri:"https://amine-security.netlify.com/",response_type:"code",scope:"openid profile email api"})}return Object(s.a)(e,[{key:"getUser",value:function(){return this.userManager.getUser()}},{key:"login",value:function(){return this.userManager.signinRedirect()}},{key:"logout",value:function(){return this.userManager.signoutRedirect()}},{key:"callApi",value:function(){return this.getUser().then(function(e){return g.a.get("https://demo.identityserver.io/api/test",{headers:{Accept:"application/json",Authorization:"Bearer "+e.access_token}})})}}]),e}(),f=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).ServAuthAPi=void 0,n.login=function(){n.ServAuthAPi.login()},n.callApi=function(){n.ServAuthAPi.callApi().then(function(e){n.setState({api:e.data})})},n.logout=function(){n.ServAuthAPi.logout()},n.getUser=function(){n.ServAuthAPi.getUser().then(function(e){n.setState({user:e})})},n.ServAuthAPi=new d,n.state={user:{},api:{}},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this.state.user;return i.createElement("div",{className:"App"},i.createElement("h1",null,"Assignment Security."),i.createElement("div",{className:"knockout"},i.createElement("a",{href:"http://mksht.crisnoble.com"},"Amine")),i.createElement("h2",null,"Security react spa pkce oidc."),i.createElement("p",null,"profile =  ",i.createElement("b",null,e?JSON.stringify(e.profile):i.createElement("button",{type:"submit",className:"b1",onClick:this.login},"sorry you're not logged in yet.Click ",i.createElement("span",null,"here")," to login"))," "),i.createElement("button",{className:"b2",onClick:this.callApi},"API"),i.createElement("p",null,"api =",i.createElement("b",null,JSON.stringify(this.state.api))," "),i.createElement("button",{className:"b3",onClick:this.logout},"Logout"))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.bf31cfb0.chunk.js.map