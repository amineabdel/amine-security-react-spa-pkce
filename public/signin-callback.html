<!DOCTYPE html>
<html lang="en">

<head>
    <title>Authentification callback processing..</title>
</head>

<body>

    <h1>Authentification callback processing...</h1>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/oidc-client/1.8.2/oidc-client.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
    <script>
/*
    https://www.npmjs.com/package/react-oidc?activeTab=readme

    The Callback component will call the .signinRedirectCallback() 
    method from UserManager and if successful, call the onSuccess prop. 
    On error it will call the onError prop. 
*/
        new Oidc.UserManager({ response_mode: "query" }).signinRedirectCallback().then(function () {
            //Optional callback when the Promise from .signinRedirectCallback() 
            //If this was successful the user is signed in. So we redirect the user to index.html. 
            //When the user is redirected to this page with the new token, it should be stored in the local storage.
            window.location = "index.html";
        }).catch(function (e) {
            //Optional callback if there is an error from the Promise returned by .signinRedirectCallback()
            console.error(e);
        });

    </script>

</body>


</html>